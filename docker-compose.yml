# Frontend (Next.js standalone)
# Build: docker compose build
# Run:   docker compose up -d
# Override API URL at build time: docker compose build --build-arg NEXT_PUBLIC_API_URL=https://api.example.com

services:
  web:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        NEXT_PUBLIC_API_URL: ${NEXT_PUBLIC_API_URL:-http://localhost:4000}
    ports:
      - "${PORT:-3000}:3000"
    environment:
      NODE_ENV: production
      PORT: 3000
    restart: unless-stopped
